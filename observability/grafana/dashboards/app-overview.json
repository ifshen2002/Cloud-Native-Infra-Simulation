{
  "annotations": {"list": []},
  "editable": true,
  "panels": [
    {
      "type": "timeseries",
      "title": "API p95 latency",
      "targets": [
        {"expr": "histogram_quantile(0.95, sum by (le) (rate(http_server_duration_milliseconds_bucket[5m])))"}
      ]
    },
    {
      "type": "timeseries",
      "title": "API 5xx rate",
      "targets": [
        {"expr": "sum(rate(http_server_duration_milliseconds_count{http_response_status_code=~\"5..\"}[5m])) / sum(rate(http_server_duration_milliseconds_count[5m]))"}
      ]
    },
    {
      "type": "timeseries",
      "title": "Requests per second (Traefik entrypoints)",
      "targets": [
        {"expr": "sum by (entrypoint) (rate(traefik_entrypoint_requests_total[5m]))"}
      ]
    },
    {
      "type": "timeseries",
      "title": "Container CPU (by service)",
      "targets": [
        {"expr": "sum by (container_label_com_docker_compose_service)(rate(container_cpu_usage_seconds_total[2m]))"}
      ]
    },
    {
      "type": "timeseries",
      "title": "Container Memory (by service)",
      "targets": [
        {"expr": "sum by (container_label_com_docker_compose_service)(container_memory_working_set_bytes)"}
      ]
    },
    {
      "type": "timeseries",
      "title": "Blackbox HTTP latency",
      "targets": [
        {"expr": "probe_http_duration_seconds{job=\"blackbox_http\"}"}
      ]
    }
  ],
  "schemaVersion": 38,
  "title": "App Overview",
  "version": 1
}


